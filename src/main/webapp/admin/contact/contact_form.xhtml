<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.org/seam/faces"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j">
		
		<h:panelGroup id="accountPanel" layout="block" styleClass="inputPanel">
			<h:outputLabel for="account" value="Account" styleClass="label" />
			<div class="input">
				<rich:autocomplete 
				id="account" 
				value="#{_contact.account}" 
				autocompleteMethod="#{entitySearch.account}" 
				var="_a" fetchValue="#{_a}" 
				converter="accountConverter">
					<h:outputText value="#{_a.name}" />				
				</rich:autocomplete>
			</div>
			<a:commandLink value="Clear" action="#{_contact.setAccount(null)}" render="accountPanel" style="float:left;" execute="account" /> 
			<rich:message for="account" styleClass="message" />
		</h:panelGroup>					
			
		<h:panelGroup layout="block" styleClass="inputPanel">
			<h:outputLabel for="type" value="Type" styleClass="label" />
			<h:selectOneMenu id="type" value="#{_contact.type}" required="true" styleClass="input">
				<f:selectItems value="#{enumValues.contactType}" var="_c" itemValue="#{_c}" itemLabel="#{_c.displayName}" />
				<f:ajax render="contactNamePanel" />
			</h:selectOneMenu>
			<rich:message for="type" styleClass="message" />
		</h:panelGroup>
			
		<h:panelGroup id="contactNamePanel">

			<h:panelGroup rendered="#{_contact.type == 'PERSON'}">
			
				<h:panelGroup layout="block" styleClass="inputPanel">
					<h:outputLabel for="honorific" value="Honorific" styleClass="label"/>						
					<h:selectOneMenu id="honorific" value="#{_contact.honorific}" required="false" styleClass="input">
						<f:selectItem itemValue="" itemLabel="None"/>
						<f:selectItems value="#{enumValues.honorific}" var="_h" itemValue="#{_h}" itemLabel="#{_h.displayName}" />
					</h:selectOneMenu>							
					<rich:message for="honorific" styleClass="message" />
				</h:panelGroup>					
			
				<h:panelGroup layout="block" styleClass="inputPanel">
					<h:outputLabel for="firstName" value="First Name" styleClass="label"/>						
					<h:inputText id="firstName" value="#{_contact.firstName}" required="true" size="35" requiredMessage="Required" styleClass="input" />
					<rich:message for="firstName" styleClass="message" />
				</h:panelGroup>						

				<h:panelGroup layout="block" styleClass="inputPanel">
					<h:outputLabel for="lastName" value="Last Name" styleClass="label" />						
					<h:inputText id="lastName" value="#{_contact.lastName}" required="true" size="35" requiredMessage="Required" styleClass="input"/>
					<rich:message for="lastName" styleClass="message" />
				</h:panelGroup>
				
				<h:panelGroup layout="block" styleClass="inputPanel">
					<h:outputLabel for="title" value="Title" styleClass="label" />						
					<h:inputText id="title" value="#{_contact.title}" required="false" size="35" styleClass="input" />
					<rich:message for="title" styleClass="message" />
				</h:panelGroup>

			</h:panelGroup>

			<h:panelGroup rendered="#{_contact.type == 'ROLE'}">
			
				<h:panelGroup layout="block" styleClass="inputPanel">
					<h:outputLabel for="roleName" value="Role Name" styleClass="label" />						
					<h:inputText id="roleName" value="#{_contact.roleName}" required="true" size="35" requiredMessage="Required" styleClass="input" />
					<rich:message for="roleName" styleClass="message" />
				</h:panelGroup>
				
			</h:panelGroup>
			
			<h:panelGroup layout="block" styleClass="inputPanel">
				<h:outputLabel for="alias" value="Alias" styleClass="label" />						
				<h:inputText id="alias" value="#{_contact.alias}" required="false" size="35" styleClass="input" />
				<rich:message for="alias" styleClass="message" />
			</h:panelGroup>
			
			<h:panelGroup layout="block" styleClass="inputPanel">
				<h:outputLabel for="emailAddress" value="Email Address" styleClass="label" />						
				<h:inputText id="emailAddress" value="#{_contact.emailAddress}" required="false" size="35" styleClass="input" />
				<rich:message for="emailAddress" styleClass="message" />
			</h:panelGroup>
			
			<h:panelGroup layout="block" styleClass="inputPanel">
				<h:outputLabel for="timezone" value="Time Zone" styleClass="label" />						
				<h:selectOneMenu id="timezone" value="#{_contact.timeZone}" required="true" styleClass="input">
					<f:selectItems value="#{enumValues.timeZone}" var="_t" itemValue="#{_t}" itemLabel="#{_t.displayName}" />
				</h:selectOneMenu>						
				<rich:message for="timezone" styleClass="message" />
			</h:panelGroup>

		</h:panelGroup>
</ui:composition>
